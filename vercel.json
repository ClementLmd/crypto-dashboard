{
  "version": 2,
  "buildCommand": "cd shared && pnpm run build",
  "installCommand": "pnpm install",
  "outputDirectory": ".",
  "projects": {
    "front": {
      "root": "front/",
      "buildCommand": "pnpm build",
      "outputDirectory": ".next",
      "framework": "nextjs",
      "headers": [
        {
          "source": "/api/(.*)",
          "headers": [
            { "key": "Access-Control-Allow-Credentials", "value": "true" },
            { "key": "Access-Control-Allow-Origin", "value": "${process.env.NEXT_PUBLIC_API_URL}" },
            { "key": "Access-Control-Allow-Methods", "value": "GET,DELETE,PATCH,POST,PUT" },
            {
              "key": "Access-Control-Allow-Headers",
              "value": "X-CSRF-Token, X-Requested-With, Accept, Accept-Version, Content-Length, Content-MD5, Content-Type, Date, X-Api-Version"
            }
          ]
        }
      ]
    },
    "back": {
      "root": "back/",
      "buildCommand": "pnpm build",
      "outputDirectory": "dist",
      "functions": {
        "api/**/*": {
          "memory": 1024,
          "maxDuration": 10
        }
      }
    }
  }
}
